<html>
<body>
<pre style="background-color:#2b2b2b;color:#a9b7c6;font-family:'Menlo';font-size:9.0pt;">
        <span style="color:#cc7832;">package </span>pdfcompare<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">
        </span><span style="color:#cc7832;">import </span>java.io.File<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">import </span>java.io.FileNotFoundException<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">import </span>java.io.IOException<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">import </span>java.util.ArrayList<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">import </span>java.util.Iterator<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">import </span>java.util.List<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">import </span>org.apache.pdfbox.io.MemoryUsageSetting<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">import </span>org.apache.pdfbox.multipdf.PDFMergerUtility<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">import </span>org.apache.pdfbox.multipdf.Splitter<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">import </span>org.apache.pdfbox.pdmodel.PDDocument<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">import </span>org.apache.pdfbox.text.PDFTextStripper<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">import </span>org.apache.pdfbox.text.PDFTextStripperByArea<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">
        </span><span style="color:#cc7832;">public class </span>DC_UI {
        
        
            <span style="color:#cc7832;">public static int </span><span style="color:#9876aa;font-style:italic;">StartPage </span>= <span style="color:#6897bb;">0</span><span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">    public static </span>String <span style="color:#9876aa;font-style:italic;">pageToMerge </span>= <span style="color:#6a8759;">&quot;THIS IS DUMMI PDF PAGE 3,1&quot;</span><span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">    public static </span>PDDocument <span style="color:#9876aa;font-style:italic;">rundoc</span><span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">
        </span><span style="color:#cc7832;">    public static void </span><span style="color:#ffc66d;">main</span>(String args[]) <span style="color:#cc7832;">throws </span>Exception
            {
                DC_UI obj = <span style="color:#cc7832;">new </span>DC_UI()<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">        </span>obj.DOPDFActivity()<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">    </span>}
        
            <span style="color:#cc7832;">public void </span><span style="color:#ffc66d;">DOPDFActivity</span>() <span style="color:#cc7832;">throws </span>IOException
            {
        
                <span style="color:#cc7832;">try </span>{
        
                    File file =<span style="color:#cc7832;">new </span>File(<span style="color:#6a8759;">&quot;/Users/path/Downloads/MithunPDF/MITHUN_PDF.pdf&quot;</span>)<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">            </span><span style="color:#808080;">//Loading an existing PDF document
        </span><span style="color:#808080;">            </span>PDDocument document = PDDocument.<span style="font-style:italic;">load</span>(file)<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">
        </span><span style="color:#cc7832;">            </span><span style="color:#808080;">// Create a Splitter object
        </span><span style="color:#808080;">            </span>Splitter splitter = <span style="color:#cc7832;">new </span>Splitter()<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">
        </span><span style="color:#cc7832;">            </span><span style="color:#808080;">//splitting the pages of a PDF document
        </span><span style="color:#808080;">            </span>List&lt;PDDocument&gt;Pages = splitter.split(document)<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">
        </span><span style="color:#cc7832;">            </span><span style="color:#808080;">//Creating an iterator object
        </span><span style="color:#808080;">            </span>Iterator&lt;PDDocument&gt;iterator = Pages.listIterator()<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">
        </span><span style="color:#cc7832;">            </span><span style="color:#808080;">//saving splits as individual PDF document
        </span><span style="color:#808080;">            </span><span style="color:#cc7832;">int </span>pdfPageNumber = <span style="color:#6897bb;">1</span><span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">            while</span>(iterator.hasNext()) {
                        PDDocument pd = iterator.next()<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">                </span>pd.save(<span style="color:#6a8759;">&quot;/Users/path/Downloads/MithunPDF/&quot;</span>+ pdfPageNumber++ +<span style="color:#6a8759;">&quot;.pdf&quot;</span>)<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">            </span>}
                    System.<span style="color:#9876aa;font-style:italic;">out</span>.println(<span style="color:#6a8759;">&quot;PDF File Split is Done&quot;</span>)<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">            </span>document.close()<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">
        </span><span style="color:#cc7832;">
        </span><span style="color:#cc7832;">        </span>}
                <span style="color:#cc7832;">catch</span>(Exception e) {
                    System.<span style="color:#9876aa;font-style:italic;">out</span>.println(<span style="color:#6a8759;">&quot;PDF Split is Fail&quot;</span>)<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">        </span>}
        
        
                <span style="color:#808080;">// Merge PDF Files .....
        </span><span style="color:#808080;">
        </span><span style="color:#808080;">        // Now Move PDF Files into FinalPDFPath
        </span><span style="color:#808080;">        </span>PDFMergerUtility mergePdf = <span style="color:#cc7832;">new </span>PDFMergerUtility()<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">        </span>mergePdf.setDestinationFileName(<span style="color:#6a8759;">&quot;/Users/path/Downloads/MithunPDF/Merged.pdf&quot;</span>)<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">
        </span><span style="color:#cc7832;">        if</span>(<span style="color:#9876aa;font-style:italic;">pageToMerge</span>.contains(<span style="color:#6a8759;">&quot;,&quot;</span>)) {
                    <span style="font-style:italic;">getRuntimePageNumbers</span>()<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">            if</span>(<span style="color:#9876aa;font-style:italic;">pageToMerge</span>.split(<span style="color:#6a8759;">&quot;,&quot;</span>)[<span style="color:#6897bb;">1</span>].equals(<span style="color:#6a8759;">&quot;0&quot;</span>))
                    {<span style="color:#9876aa;font-style:italic;">pageToMerge </span>= String.<span style="font-style:italic;">valueOf</span>(<span style="color:#9876aa;font-style:italic;">StartPage</span>)<span style="color:#cc7832;">;</span>}
                    <span style="color:#cc7832;">else
        </span><span style="color:#cc7832;">            </span>{
                        <span style="color:#cc7832;">int </span>j = <span style="color:#9876aa;font-style:italic;">StartPage</span>+ Integer.<span style="font-style:italic;">parseInt</span>(<span style="color:#9876aa;font-style:italic;">pageToMerge</span>.split(<span style="color:#6a8759;">&quot;,&quot;</span>)[<span style="color:#6897bb;">1</span>]) <span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">                </span>ArrayList&lt;String&gt; A1 = <span style="color:#cc7832;">new </span>ArrayList&lt;&gt;()<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">                for</span>(<span style="color:#cc7832;">int </span>h=<span style="color:#9876aa;font-style:italic;">StartPage </span><span style="color:#cc7832;">; </span>h &lt;= j<span style="color:#cc7832;">; </span>h++)
                        {
                            A1.add(String.<span style="font-style:italic;">valueOf</span>(h))<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">                </span>}
                        <span style="color:#9876aa;font-style:italic;">pageToMerge </span>= A1.toString().replaceAll(<span style="color:#6a8759;">&quot;</span><span style="color:#cc7832;">\\</span><span style="color:#6a8759;">[&quot;</span><span style="color:#cc7832;">, </span><span style="color:#6a8759;">&quot;&quot;</span>).replaceAll(<span style="color:#6a8759;">&quot;]&quot;</span><span style="color:#cc7832;">, </span><span style="color:#6a8759;">&quot;&quot;</span>)<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">
        </span><span style="color:#cc7832;">            </span>}
        
        
                }
                <span style="color:#808080;">// Split Page As Per Page Number
        </span><span style="color:#808080;">        </span>String[] pageToMergeSplit = <span style="color:#9876aa;font-style:italic;">pageToMerge</span>.split(<span style="color:#6a8759;">&quot;,&quot;</span>)<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">        for</span>(<span style="color:#cc7832;">int </span>k=<span style="color:#6897bb;">0 </span><span style="color:#cc7832;">; </span>k&lt;pageToMergeSplit.<span style="color:#9876aa;">length</span><span style="color:#cc7832;">;</span>k++) {
                    File folder = <span style="color:#cc7832;">new </span>File(<span style="color:#6a8759;">&quot;/Users/path/Downloads/MithunPDF/&quot;</span>)<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">        </span><span style="color:#808080;">// loop through all files in the folder
        </span><span style="color:#808080;">            </span><span style="color:#cc7832;">for </span>(File file : folder.listFiles())
                    {
                <span style="color:#808080;">// if it is a PDF file
        </span><span style="color:#808080;">                </span><span style="color:#cc7832;">if </span>(file.getName().equals(pageToMergeSplit[k].trim()+<span style="color:#6a8759;">&quot;.pdf&quot;</span>))
                        {
                            File readpdf = <span style="color:#cc7832;">new </span>File(<span style="color:#6a8759;">&quot;/Users/path/Downloads/MithunPDF/&quot;</span>+file.getName())<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">                    try </span>{
                                mergePdf.addSource(readpdf)<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">                    </span>} <span style="color:#cc7832;">catch </span>(FileNotFoundException e) {
                            }
                        }
                    }
                }
                <span style="color:#cc7832;">try </span>{
                    mergePdf.mergeDocuments(MemoryUsageSetting.<span style="font-style:italic;">setupMainMemoryOnly</span>())<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">        </span>} <span style="color:#cc7832;">catch </span>(IOException e) {
                <span style="color:#808080;">// </span><span style="color:#a8c023;font-style:italic;">TODO Auto-generated catch block
        </span><span style="color:#a8c023;font-style:italic;">            </span>e.printStackTrace()<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">        </span>}
                <span style="color:#cc7832;">finally </span>{}
        
        
            }
        
            <span style="color:#cc7832;">public static void </span><span style="color:#ffc66d;">getRuntimePageNumbers</span>() <span style="color:#cc7832;">throws </span>IOException
            {
        
                <span style="color:#808080;">// public static String pageToMerge = &quot;THIS IS DUMMI PDF PAGE 3,1&quot;;
        </span><span style="color:#808080;">
        </span><span style="color:#808080;">        </span>String lineText= <span style="color:#9876aa;font-style:italic;">pageToMerge</span>.split(<span style="color:#6a8759;">&quot;,&quot;</span>)[<span style="color:#6897bb;">0</span>]<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">        </span>File folder = <span style="color:#cc7832;">new </span>File(<span style="color:#6a8759;">&quot;/Users/path/Downloads/MithunPDF&quot;</span>)<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">    </span><span style="color:#808080;">// loop through all files in the folder
        </span><span style="color:#808080;">
        </span><span style="color:#808080;">        </span><span style="color:#cc7832;">for </span>(File file : folder.listFiles())
                {
                    System.<span style="color:#9876aa;font-style:italic;">out</span>.println(file.getName())<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">            if </span>(file.getName().contains(<span style="color:#6a8759;">&quot;.pdf&quot;</span>)) {
                        <span style="color:#cc7832;">try </span>{
                            <span style="color:#9876aa;font-style:italic;">rundoc </span>= PDDocument.<span style="font-style:italic;">load</span>(<span style="color:#cc7832;">new </span>File(<span style="color:#6a8759;">&quot;/Users/path/Downloads/MithunPDF/&quot;Â </span>+ file.getName()))<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">                    if </span>(file.getName().length() &lt; <span style="color:#6897bb;">10</span>) {
                                <span style="color:#cc7832;">if </span>(!<span style="color:#9876aa;font-style:italic;">rundoc</span>.isEncrypted()) {
                                    System.<span style="color:#9876aa;font-style:italic;">out</span>.println(file.getName())<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">                            </span>PDFTextStripperByArea stripper = <span style="color:#cc7832;">new </span>PDFTextStripperByArea()<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">                            </span>stripper.setSortByPosition(<span style="color:#cc7832;">true</span>)<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">                            </span>PDFTextStripper Tstripper = <span style="color:#cc7832;">new </span>PDFTextStripper()<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">                            </span>String stActual = Tstripper.getText(<span style="color:#9876aa;font-style:italic;">rundoc</span>)<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">                            </span>String[] LineBreak = stActual.split(<span style="color:#6a8759;">&quot;</span><span style="color:#cc7832;">\\</span><span style="color:#6a8759;">r?</span><span style="color:#cc7832;">\\</span><span style="color:#6a8759;">n&quot;</span>)<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">
        </span><span style="color:#cc7832;">                            for </span>(<span style="color:#cc7832;">int </span>i = <span style="color:#6897bb;">0</span><span style="color:#cc7832;">; </span>i &lt; <span style="color:#6897bb;">5</span><span style="color:#cc7832;">; </span>i++) {
                                        <span style="color:#cc7832;">if </span>(LineBreak[i] != <span style="color:#cc7832;">null</span>) {
                                            System.<span style="color:#9876aa;font-style:italic;">out</span>.println(<span style="color:#6a8759;">&quot;Page Number is :&quot; </span>+ file.getName() + <span style="color:#6a8759;">&quot;:::&quot; </span>+ LineBreak[i])<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">                                    if </span>(LineBreak[i].contains(lineText)) {
                                                <span style="color:#9876aa;font-style:italic;">StartPage </span>= Integer.<span style="font-style:italic;">valueOf</span>(file.getName().replaceAll(<span style="color:#6a8759;">&quot;</span><span style="color:#cc7832;">\\</span><span style="color:#6a8759;">D&quot;</span><span style="color:#cc7832;">, </span><span style="color:#6a8759;">&quot;&quot;</span>))<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">                                        break;
        </span><span style="color:#cc7832;">                                    </span>}
                                        }
                                    }
                                    <span style="color:#cc7832;">if </span>(<span style="color:#9876aa;font-style:italic;">StartPage </span>!= <span style="color:#6897bb;">0</span>) {
                                        <span style="color:#cc7832;">break;
        </span><span style="color:#cc7832;">                            </span>}
                                }
                            }
        
                            <span style="color:#9876aa;font-style:italic;">rundoc</span>.close()<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">                </span>} <span style="color:#cc7832;">catch </span>(Exception e) {
                            e.printStackTrace()<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">                    </span><span style="color:#9876aa;font-style:italic;">rundoc</span>.close()<span style="color:#cc7832;">;
        </span><span style="color:#cc7832;">                </span>}
                    }
                }
        
            }
        
        
        }</pre><br><br> 
</body>
</html>